<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>svg_path_click</title>
        <style media="screen">
            svg{
                border: 1px dashed hotpink;
            }
        </style>
    </head>
    <body>
<div class="test1">
    <svg id='svg1' version="1.1" fill-rule="evenodd" fill="none" stroke="none" stroke-linecap="square" stroke-miterlimit="10" overflow="hidden" preserveAspectRatio="none" style="position: absolute; top: 0px; left: 0px;" width="400px" height="300px" >
             <g id="rect1-1">
                   <g>
                      <path id='path-rect1' fill="#EEEEEE" fill-opacity="1" stroke="#595959" stroke-opacity="1" stroke-width="3" stroke-linecap="butt" stroke-linejoin="round" stroke-miterlimit="8" d="M 140 73 L 215 73 215 105 140 105 Z"></path>
                   </g>
             </g>
    </svg>
    <svg id='svg2' version="1.1" fill-rule="evenodd" fill="none" stroke="none" stroke-linecap="square" stroke-miterlimit="10" overflow="hidden" preserveAspectRatio="none" style="position: absolute; top: 0px; left: 0px;" width="301px" height="270px" >
             <g id="tri1-2">
                   <g>
                      <path id='path-triangle1' fill="#EEEEEE" fill-opacity="1" stroke="#595959" stroke-opacity="1" stroke-width="3" stroke-linecap="butt" stroke-linejoin="round" stroke-miterlimit="8" d="M 63 143 L 63 48 253 143 Z"></path>
                   </g>
             </g>

    </svg>
    <svg id='svg3' version="1.1" fill-rule="evenodd" fill="none" stroke="none" stroke-linecap="square" stroke-miterlimit="10" overflow="hidden" preserveAspectRatio="none" style="position: absolute; top: 0px; left: 0px;" width="200px" height="250px">
        <g id="tri2-1">
              <g>
                 <path id='path-triangle2' fill="#EEEEEE" fill-opacity="1" stroke="#595959" stroke-opacity="1" stroke-width="3" stroke-linecap="butt" stroke-linejoin="round" stroke-miterlimit="8" d="M 63 143 L 0 48 153 143 Z"></path>
              </g>
        </g>
    </svg>
</div>


<script src="https://cdn.bootcss.com/snap.svg/0.5.1/snap.svg-min.js"></script>

<script type="text/javascript">

var e = function(sel) {return document.querySelector(sel)}
var es = function(sel) {return Array.from(document.querySelectorAll(sel))}
var log = function(...arg) {console.log.apply(console, arg)}
var closest = function(el, selector) {
    var matchesSelector = el.matches || el.webkitMatchesSelector || el.mozMatchesSelector || el.msMatchesSelector;

    while (el) {
        if (matchesSelector.call(el, selector)) {
            break;
        }
        el = el.parentElement;
    }
    return el;
}

var rectP = e('#path-rect1')
var triP = e('#path-triangle1')
var triP2 = e('#path-triangle2')
var eleArr = [rectP, triP, triP2]

var pathPrototype = rectP.__proto__
pathPrototype.getPathStr = function() {
    return this.attributes.d.value
}
pathPrototype.isPointIn = function(x, y) {
    return Snap.path.isPointInside(this.getPathStr(), x, y)
}
pathPrototype.dadIndex = function() {
    var svg = closest(this, 'svg')
    // log(svg.parentNode.childNodes)
    return [].indexOf.call(svg.parentNode.childNodes, svg)
}
pathPrototype.active = function() {
    var self = this,
        temp = this.attributes.fill.value
    this.attributes.fill.value = '#ee7777'
    setTimeout(function() {
        self.attributes.fill.value = temp
    },200)
}

var judge = function(ev) {
    var x = ev.clientX,
        y = ev.clientY

    eleArr.filter(function(ele) {
        return ele.isPointIn(x, y)
    }).reduce(function(prev, curr) {
        return prev.dadIndex() > curr.dadIndex() ? prev : curr
    }).active()
}

e('body').addEventListener('click', judge)

</script>
    </body>
</html>
